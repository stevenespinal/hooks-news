{"version":3,"sources":["components/Auth/useFormValidation.js","components/Auth/validateCreateLink.js","firebase/context.js","components/Link/CreateLink.js","components/Auth/validateLogin.js","firebase/config.js","firebase/index.js","firebase/firebase.js","components/Auth/Login.js","components/Auth/ForgotPassword.js","utils/index.js","components/Link/LinkItem.js","components/Link/SearchLinks.js","components/Link/LinkList.js","components/Link/LinkDetail.js","components/Header.js","components/Auth/useAuth.js","components/App.js","serviceWorker.js","index.js"],"names":["useFormValidation","initialState","validate","authenticate","_useState","useState","_useState2","Object","slicedToArray","values","setValues","_useState3","_useState4","errors","setErrors","_useState5","_useState6","isSubmitting","setSubmitting","useEffect","keys","length","handleChange","event","_event$target","target","name","value","prevValue","objectSpread","defineProperty","handleSubmit","preventDefault","validationErrors","handleBlur","validateCreateLink","description","url","test","FirebaseContext","createContext","INITIAL_STATE","CreateLink","_ref","history","_useContext","useContext","firebase","currentUser","_useFormValidation","_handleCreateLink","apply","this","arguments","asyncToGenerator","regenerator_default","a","mark","_callee","newLink","wrap","_context","prev","next","push","postedBy","id","uid","displayName","votes","voteCount","comments","created","Date","now","db","collection","add","stop","react_default","createElement","onSubmit","className","onChange","type","placeholder","autoComplete","validateLogin","email","password","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Firebase","_this","classCallCheck","register","newUser","auth","createUserWithEmailAndPassword","sent","user","updateProfile","abrupt","_x","_x2","_x3","login","_ref2","_callee2","_context2","signInWithEmailAndPassword","_x4","_x5","logout","_callee3","_context3","signOut","resetPassword","_ref4","_callee4","_context4","sendPasswordResetEmail","_x6","app","initializeApp","firestore","Login","setLogin","firebaseError","setfirebaseError","t0","console","error","message","onBlur","disabled","style","backgroundColor","onClick","prevLogin","react_router_dom","to","ForgotPassword","resetPasswordEmail","setResetPasswordEmail","isPasswordReset","setIsPasswordReset","passwordResetError","setPasswordResetError","handleResetPassword","e","LINKS_PER_PAGE","withRouter","link","index","showCount","postedByAuthUser","handleDeleteLink","_ref3","linkRef","doc","delete","log","concat","votesRef","get","then","previousVotes","vote","updatedVotes","exists","data","votedBy","toConsumableArray","update","href","rel","replace","distanceInWordsToNow","Fragment","SearchLinks","filter","setFilter","links","setLinks","filteredLinks","setFilteredLinks","getInitialLinks","snapshot","docs","map","query","toLowerCase","matchedLinks","includes","filteredLink","i","Link_LinkItem","key","LinkList","location","match","cursor","setCursor","page","Number","params","isNewPage","pathname","isTopPage","loading","setLoading","linksRef","handleSnapshot","lastLink","unsubscribe","hasCursor","Boolean","orderBy","limit","onSnapshot","startAfter","offset","axios","res","getLinks","pageIndex","opacity","LinkDetail","props","setLink","linkId","commentText","setCommentText","getLink","handleAddComment","previousComments","comment","text","updatedComment","prevState","cols","rows","src","alt","useAuth","authUser","setAuthUser","onAuthStateChanged","App","context","Provider","components_Header","react_router","path","exact","render","component","window","hostname","ReactDOM","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ac2909d3.chunk.js","sourcesContent":["import {useState, useEffect} from \"react\";\n\nconst useFormValidation = (initialState, validate, authenticate) => {\n  const [values, setValues] = useState(initialState);\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setSubmitting] = useState(false);\n\n\n  useEffect(() => {\n    if (isSubmitting) {\n      const noErrors = Object.keys(errors).length === 0;\n      if (noErrors) {\n        authenticate();\n        setSubmitting(false);\n      } else {\n        setSubmitting(false);\n      }\n    }\n  }, [errors]);\n\n  const handleChange = event => {\n    // event.persist();\n    const {name, value} = event.target;\n    setValues(prevValue => ({\n      ...prevValue,\n      [name]: value\n    }));\n  }\n\n  const handleBlur = () => {\n    const validationErrors = validate(values);\n    setErrors(validationErrors);\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const validationErrors = validate(values);\n    setErrors(validationErrors);\n    setSubmitting(true);\n  }\n\n  return {handleChange, handleSubmit, values, handleBlur, isSubmitting, errors}\n}\n\nexport default useFormValidation;\n","export default function validateCreateLink(values) {\n\n  let errors = {};\n\n  if (!values.description) {\n    errors.description = \"Description required.\"\n  } else if (values.description.length < 10) {\n    errors.description = \"Description must be at least 10 characters.\"\n  }\n\n  if (!values.url) {\n    errors.url = \"Url required.\"\n  } else if (!/^(ftp|http|https):\\/\\/[^ \"]+$/.test(values.url)) {\n    errors.url = \"Url not valid.\"\n  }\n\n  return errors;\n}\n","import {createContext} from \"react\";\r\n\r\nconst FirebaseContext = createContext(null);\r\n\r\nexport default FirebaseContext","import React, {useContext} from \"react\";\nimport useFormValidation from \"../Auth/useFormValidation\";\nimport validateCreateLink from \"../Auth/validateCreateLink\";\nimport FirebaseContext from \"../../firebase/context\";\n\nconst INITIAL_STATE = {\n  description: \"\",\n  url: \"\"\n}\n\nconst CreateLink = ({history}) => {\n  const {firebase, currentUser} = useContext(FirebaseContext)\n  const {handleSubmit, handleChange, values, errors} = useFormValidation(INITIAL_STATE, validateCreateLink, handleCreateLink);\n\n  async function handleCreateLink() {\n    if (!currentUser) {\n      history.push(\"/login\");\n    } else {\n      const {url, description} = values;\n      const newLink = {\n        url,\n        description,\n        postedBy: {\n          id: currentUser.uid,\n          name: currentUser.displayName\n        },\n        votes: [],\n        voteCount: 0,\n        comments: [],\n        created: Date.now()\n      }\n      await firebase.db.collection(\"links\").add(newLink);\n      history.push(\"/\");\n    }\n  }\n\n\n  return (\n    <form onSubmit={handleSubmit} className=\"flex flex-column mt3\">\n      <input className={errors.description && 'errors-input'} onChange={handleChange} value={values.description}\n             type=\"text\" name=\"description\" placeholder=\"Description for link\" autoComplete=\"off\"/>\n      {errors.description && <p className=\"error-text\">{errors.description}</p>}\n      <input className={errors.url && 'errors-input'} onChange={handleChange} value={values.url} type=\"url\" name=\"url\"\n             placeholder=\"Url for link\" autoComplete=\"off\"/>\n      {errors.url && <p className=\"error-text\">{errors.url}</p>}\n      <button className=\"button\" type=\"submit\">Submit</button>\n    </form>\n  )\n}\n\nexport default CreateLink;\n","const validateLogin = (values) => {\n  let errors = {};\n\n  if (!values.email) {\n    errors.email = \"Email required.\"\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\n    errors.email = \"Invalid email address.\"\n  }\n\n\n  if (!values.password) {\n    errors.password = \"Password required.\"\n  } else if (values.password.length < 6) {\n    errors.password = \"Password must be at least 6 characters.\"\n  }\n\n  return errors;\n}\n\n\nexport default validateLogin;","const firebaseConfig = {\r\n  apiKey: \"AIzaSyAUVSjfeGZ_GpYauPlwyhXCHeO5Ssj8mzc\",\r\n  authDomain: \"hooks-news-c9337.firebaseapp.com\",\r\n  databaseURL: \"https://hooks-news-c9337.firebaseio.com\",\r\n  projectId: \"hooks-news-c9337\",\r\n  storageBucket: \"hooks-news-c9337.appspot.com\",\r\n  messagingSenderId: \"814372366223\",\r\n  appId: \"1:814372366223:web:10d6f21ccea29777f9cdfa\"\r\n};\r\n\r\nexport default firebaseConfig;","import firebase from \"./firebase\";\r\nimport FirebaseContext from \"./context\";\r\n\r\nexport {FirebaseContext};\r\nexport default firebase;","import firebaseConfig from \"./config\";\r\nimport app from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    app.initializeApp(firebaseConfig);\r\n    this.auth = app.auth();\r\n    this.db = app.firestore();\r\n  }\r\n\r\n  register = async (name, email, password) => {\r\n    const newUser = await this.auth.createUserWithEmailAndPassword(email, password);\r\n    return await newUser.user.updateProfile({displayName: name});\r\n  }\r\n\r\n  login = async (email, password) => {\r\n    return this.auth.signInWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  logout = async () => {\r\n    await this.auth.signOut();\r\n  }\r\n\r\n   resetPassword = async email => {\r\n    await this.auth.sendPasswordResetEmail(email);\r\n   }\r\n\r\n}\r\n\r\nconst firebase = new Firebase();\r\nexport default firebase;\r\n","import React, {useState} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport useFormValidation from \"./useFormValidation\";\nimport validateLogin from \"./validateLogin\";\nimport firebase from \"../../firebase\";\n\nconst INITIAL_STATE = {\n  name: '',\n  email: '',\n  password: ''\n}\n\nconst Login = ({history}) => {\n  const [login, setLogin] = useState(true);\n  const [firebaseError, setfirebaseError] = useState(null);\n\n  const authenticateUser = async () => {\n    try {\n      login ? await firebase.login(email, password) : await firebase.register(name, email, password);\n      history.push(\"/\");\n    } catch (error) {\n      console.error(\"Authentication error.\", error);\n      setfirebaseError(error.message);\n    }\n  }\n\n  const {handleChange, handleSubmit, values, handleBlur, isSubmitting, errors} = useFormValidation(INITIAL_STATE, validateLogin, authenticateUser);\n  const {name, email, password} = values;\n\n  return (\n    <div>\n      <h2 className=\"mv3\">{login ? 'Sign In' : 'Create an account'}</h2>\n      <form onSubmit={handleSubmit} className=\"flex flex-column\">\n        {!login && (\n          <input\n            name=\"name\"\n            value={name}\n            type=\"text\"\n            placeholder=\"Your Name\"\n            autoComplete=\"off\"\n            onChange={handleChange}\n          />\n        )}\n        <input\n          className={errors.email && 'error-input'}\n          name=\"email\"\n          onBlur={handleBlur}\n          value={email}\n          type=\"email\"\n          placeholder=\"Email Address\"\n          autoComplete=\"off\"\n          onChange={handleChange}\n        />\n\n        {errors.email && <p className=\"error-text\">{errors.email}</p>}\n        <input\n          className={errors.password && 'error-input'}\n          name=\"password\"\n          onBlur={handleBlur}\n          value={password}\n          type=\"password\"\n          placeholder={login ? 'Enter your password' : \"Choose a secure password\"}\n          onChange={handleChange}\n        />\n        {errors.password && <p className=\"error-text\">{errors.password}</p>}\n        {firebaseError && <p className=\"error-text\">{firebaseError}</p>}\n        <div className=\"flex mt3\">\n          <button type=\"submit\" className=\"button pointer mr2\" disabled={isSubmitting}\n                  style={{backgroundColor: isSubmitting ? 'grey' : 'orange'}}>Submit\n          </button>\n          <button\n            type=\"button\"\n            className=\"button pointer\"\n            onClick={() => setLogin(prevLogin => !prevLogin)}>\n            {login ? \"Need to create an account?\" : \"Already Have an Account?\"}\n          </button>\n        </div>\n      </form>\n      <div className=\"forgot-password\">\n        <Link to=\"/forgot\">Forgot Password?</Link>\n      </div>\n    </div>\n  )\n}\n\nexport default Login;\n","import React, {useState, useContext} from \"react\";\nimport {FirebaseContext} from \"../../firebase\";\n\n\nfunction ForgotPassword() {\n  const {firebase} = useContext(FirebaseContext);\n  const [resetPasswordEmail, setResetPasswordEmail] = useState(\"\");\n  const [isPasswordReset, setIsPasswordReset] = useState(false);\n  const [passwordResetError, setPasswordResetError] = useState(null);\n\n  const handleResetPassword = async () => {\n    try {\n      await firebase.resetPassword(resetPasswordEmail);\n      setIsPasswordReset(true);\n      setPasswordResetError(null);\n    } catch (error) {\n      console.error(\"Error sending email.\", error);\n      setIsPasswordReset(false);\n      setPasswordResetError(error.message);\n    }\n  }\n  return (\n    <div>\n      <input type=\"email\" className=\"input\" placeholder=\"Provide your account email\"\n             onChange={e => setResetPasswordEmail(e.target.value)}/>\n      <div>\n        <button className=\"button\" onClick={handleResetPassword}>Reset Password</button>\n      </div>\n      {isPasswordReset && <p>Check your email to reset password</p>}\n      {passwordResetError && <p className=\"error-text\">{passwordResetError}</p>}\n    </div>\n  )\n}\n\nexport default ForgotPassword;\n","export const LINKS_PER_PAGE = 5;\n\nexport function getDomain(url) {\n  return url.replace(/^https?:\\/\\//i, \"\");\n}\n\n/* EMAIL REGEX: !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email) */\n/* URL REGEX: !/^(ftp|http|https):\\/\\/[^ \"]+$/.test(values.url) */\n","import React, {useContext} from \"react\";\nimport {Link, withRouter} from \"react-router-dom\";\nimport {getDomain} from \"../../utils\";\nimport distanceInWordsToNow from \"date-fns/distance_in_words_to_now\";\nimport FirebaseContext from \"../../firebase/context\";\n\n\nfunction LinkItem({link, index, showCount, history}) {\n  const {firebase, currentUser} = useContext(FirebaseContext);\n\n  const handleVote = () => {\n    if (!currentUser) {\n      history.push(\"/login\")\n    } else {\n      const votesRef = firebase.db.collection(\"links\").doc(link.id);\n      votesRef.get().then(async doc => {\n        if (doc.exists) {\n          const previousVotes = doc.data().votes;\n          const vote = {votedBy: currentUser.uid, name: currentUser.displayName};\n          const updatedVotes = [...previousVotes, vote];\n          const voteCount = updatedVotes.length;\n          await votesRef.update({votes: updatedVotes, voteCount});\n        }\n      });\n    }\n  }\n\n  const postedByAuthUser = currentUser && currentUser.uid === link.postedBy.id;\n\n  const handleDeleteLink = async () => {\n    const linkRef = firebase.db.collection(\"links\").doc(link.id);\n    try {\n      await linkRef.delete();\n      console.log(`Document with ID:  ${link.id} deleted.`);\n    } catch (error) {\n      console.error(\"Error deleting document\", error);\n    }\n  }\n\n  return (\n    <div className=\"flex items-start mt2\">\n      <div className=\"flex items-center\">\n        {showCount && <span className=\"gray\">{index}</span>}\n        <div className=\"vote-button\" onClick={handleVote}>▲</div>\n      </div>\n      <div className=\"ml1\">\n        <div>\n          <a className=\"black\" href={link.url} target=\"_blank\" rel=\"noopener noreferrer\">{link.description} </a><span className=\"link\">({getDomain(link.url)})</span>\n        </div>\n        <div className=\"f6 lh-copy gray\">\n          {link.voteCount} Votes By {link.postedBy.name} {distanceInWordsToNow(link.created)} ago | <Link\n          to={`/link/${link.id}`}>{link.comments.length > 0 ? `${link.comments.length} comments` : \"Discuss\"}</Link>\n          {postedByAuthUser && <> | <span className=\"delete-button\" onClick={handleDeleteLink}>Delete</span></>}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(LinkItem);\n","import React, {useState, useEffect, useContext} from \"react\";\nimport FirebaseContext from \"../../firebase/context\";\nimport LinkItem from \"./LinkItem\";\n\nfunction SearchLinks() {\n  const [filter, setFilter] = useState(\"\");\n  const [links, setLinks] = useState([])\n\n  const [filteredLinks, setFilteredLinks] = useState([]);\n  const {firebase} = useContext(FirebaseContext);\n\n  useEffect(() => {\n    getInitialLinks();\n  }, []);\n\n  const getInitialLinks = () => {\n    firebase.db.collection(\"links\").get().then(snapshot => {\n      const links = snapshot.docs.map(doc => {\n        return {id: doc.id, ...doc.data()}\n      });\n\n      setLinks(links);\n    });\n  }\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    const query = filter.toLowerCase();\n    const matchedLinks = links.filter(link => {\n      return link.description.toLowerCase().includes(query) || link.url.toLowerCase().includes(query) || link.postedBy.name.toLowerCase().includes(query)\n    });\n    setFilteredLinks(matchedLinks);\n  }\n\n  return (\n    <div>\n      <form onSubmit={handleSearch}>\n        <div>\n          Search <input type=\"text\" onChange={event => setFilter(event.target.value)}/>\n          <button type=\"submit\">OK</button>\n        </div>\n      </form>\n\n      {filteredLinks.map((filteredLink, i) => {\n        return <LinkItem link={filteredLink} index={i} key={filteredLink.id} showCount={false} />\n      })}\n\n    </div>\n  );\n}\n\nexport default SearchLinks;\n","import React, {useContext, useEffect, useState} from \"react\";\nimport FirebaseContext from \"../../firebase/context\";\nimport LinkItem from \"./LinkItem\";\nimport {LINKS_PER_PAGE} from \"../../utils\";\nimport axios from \"axios\";\n\nfunction LinkList({location, match, history}) {\n  const {firebase} = useContext(FirebaseContext);\n  const [links, setLinks] = useState([]);\n  const [cursor, setCursor] = useState(null);\n  const page = Number(match.params.page);\n  const isNewPage = location.pathname.includes(\"new\");\n  const isTopPage = location.pathname.includes(\"top\");\n  const [loading, setLoading] = useState(false);\n  const linksRef = firebase.db.collection('links');\n\n  useEffect(() => {\n    const unsubscribe = getLinks();\n    return () => unsubscribe();\n  }, [isTopPage, page]);\n\n  function getLinks() {\n    const hasCursor = Boolean(cursor);\n    setLoading(true);\n    if (isTopPage) {\n      return linksRef\n        .orderBy('voteCount', 'desc')\n        .limit(LINKS_PER_PAGE)\n        .onSnapshot(handleSnapshot);\n    } else if (page === 1) {\n      return linksRef.orderBy('created', 'desc').limit(LINKS_PER_PAGE).onSnapshot(handleSnapshot);\n    } else if (hasCursor) {\n      return linksRef.orderBy('created', 'desc').startAfter(cursor.created).limit(LINKS_PER_PAGE).onSnapshot(handleSnapshot);\n    } else {\n      const offset = page * LINKS_PER_PAGE - LINKS_PER_PAGE;\n      axios.get(`https://us-central1-hooks-news-c9337.cloudfunctions.net/linksPagination?offset=${offset}`).then((res) => {\n        const links = res.data;\n        const lastLink = links[links.length - 1];\n        setLinks(links);\n        setCursor(lastLink);\n        setLoading(false);\n      });\n      return () => {};\n    }\n  }\n\n  function handleSnapshot(snapshot) {\n    const links = snapshot.docs.map(doc => {\n      return {\n        id: doc.id,\n        ...doc.data()\n      }\n    });\n    const lastLink = links[links.length - 1];\n    setLinks(links);\n    setCursor(lastLink);\n    setLoading(false);\n  }\n\n  const visitPreviousPage = () => {\n    if (page > 1) {\n      history.push(`/new/${page - 1}`)\n    }\n  }\n\n  const visitNextPage = () => {\n    if (page <= links.length / LINKS_PER_PAGE) {\n      history.push(`/new/${page + 1}`)\n    }\n  }\n\n  const pageIndex = page ? (page - 1) * LINKS_PER_PAGE + 1 : 1;\n\n  return (\n    <div style={{opacity: loading ? 0.25 : 1}}>\n      {links.map((link, i) => (\n        <LinkItem key={link.id} showCount={true} link={link} index={i + pageIndex}/>\n      ))}\n      {isNewPage && (\n        <div className=\"pagination\">\n          <div className=\"pointer mr2\" onClick={visitPreviousPage}>Previous</div>\n          <div className=\"pointer\" onClick={visitNextPage}>Next</div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default LinkList;\n","import React, {useEffect, useContext, useState} from \"react\";\nimport FirebaseContext from \"../../firebase/context\";\nimport LinkItem from \"./LinkItem\";\nimport distanceInWordsToNow from \"date-fns/distance_in_words_to_now\";\n\nfunction LinkDetail(props) {\n  const {firebase, currentUser} = useContext(FirebaseContext);\n  const [link, setLink] = useState(null);\n  const linkId = props.match.params.linkId;\n  const linkRef = firebase.db.collection(\"links\").doc(linkId);\n\n  const [commentText, setCommentText] = useState(\"\")\n\n  useEffect(() => {\n    getLink();\n  }, [])\n\n  const getLink = () => {\n    linkRef.get().then(doc => {\n      setLink({...doc.data(), id: doc.id});\n    });\n  }\n\n  const handleAddComment = async () => {\n    if (!currentUser) {\n      props.history.push(\"/login\")\n    } else {\n      linkRef.get().then(doc => {\n        if (doc.exists) {\n          const previousComments = doc.data().comments;\n          const comment = {\n            postedBy: {id: currentUser.uid, name: currentUser.displayName},\n            created: Date.now(),\n            text: commentText\n          }\n          const updatedComment = [...previousComments, comment];\n          linkRef.update({comments: updatedComment});\n          setLink(prevState => ({...prevState, comments: updatedComment}));\n          setCommentText(\"\");\n        }\n      })\n    }\n  }\n\n  return !link ? (\n    <div>Loading . . .</div>\n  ) : (\n    <div>\n      <LinkItem link={link} showCount={false}/>\n      <textarea onChange={e => setCommentText(e.target.value)} value={commentText} name=\"\" id=\"\" cols=\"60\" rows=\"6\"/>\n      <div className=\"button\" onClick={handleAddComment}>Add Comment</div>\n      {link.comments.map((comment, index) => (\n        <div key={index}>\n          <p className=\"comment-author\">{comment.postedBy.name} | {distanceInWordsToNow(comment.created)} ago</p>\n          <p>{comment.text}</p>\n        </div>\n      ))}\n    </div>\n  )\n}\n\nexport default LinkDetail;\n","import React, {useContext} from \"react\";\nimport {withRouter, NavLink} from \"react-router-dom\";\nimport {FirebaseContext} from \"../firebase\";\n\nconst Header = () => {\n  const {currentUser, firebase} = useContext(FirebaseContext);\n\n  return (\n    <div className=\"header\">\n      <div className=\"flex\">\n        <img src=\"/logo.png\" alt=\"Hooks News Logo\" className=\"logo\"/>\n        <NavLink to=\"/\" className=\"header-title\">\n          Hooks News\n        </NavLink>\n        <NavLink to=\"/\" className=\"header-link\">\n          New\n        </NavLink>\n        <div className=\"divider\"> |</div>\n        <NavLink className=\"header-link\" to=\"/top\">\n          Top\n        </NavLink>\n        <div className=\"divider\"> |</div>\n        <NavLink to=\"/search\" className=\"header-link\">\n          Search\n        </NavLink>\n        {currentUser && (\n          <>\n            <div className=\"divider\"> |</div>\n            <NavLink to=\"/create\" className=\"header-link\">\n              Submit\n            </NavLink>\n          </>\n        )}\n      </div>\n      <div className=\"flex\">\n        {\n          currentUser ? (\n              <>\n                <div className=\"header-name\">{currentUser.displayName}</div>\n                <div className=\"divider\"> |</div>\n                <div className=\"header-button\" onClick={() => firebase.logout()}>Log Out</div>\n              </>\n            ) :\n            <NavLink to=\"/login\" className=\"header-link\">\n              Log In\n            </NavLink>\n        }\n\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(Header);\n","import {useEffect, useState} from \"react\";\nimport firebase from \"../../firebase\";\n\nconst useAuth = () => {\n  const [authUser, setAuthUser] = useState(null)\n  useEffect(() => {\n    const unsubscribe = firebase.auth.onAuthStateChanged(user => {\n      if (user) {\n        setAuthUser(user);\n      } else {\n        setAuthUser(null);\n      }\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  return authUser;\n}\n\nexport default useAuth;\n","import React from \"react\";\nimport {BrowserRouter as Router, Switch, Route, Redirect} from \"react-router-dom\";\nimport CreateLink from \"./Link/CreateLink\";\nimport Login from \"./Auth/Login\";\nimport ForgotPassword from \"./Auth/ForgotPassword\";\nimport SearchLinks from \"./Link/SearchLinks\";\nimport LinkList from \"./Link/LinkList\";\nimport LinkDetail from \"./Link/LinkDetail\";\nimport Header from \"./Header\";\nimport useAuth from \"./Auth/useAuth\";\nimport FirebaseContext from \"../firebase/context\";\nimport firebase from \"../firebase\";\n\nfunction App() {\n  const currentUser = useAuth();\n  return (\n    <Router>\n      <FirebaseContext.Provider value={{currentUser, firebase}}>\n        <div className=\"app-container\">\n          <Header/>\n          <div className=\"route-container\">\n            <Switch>\n              <Route path=\"/\" exact render={() => <Redirect to=\"/new/1\"/>}/>\n              <Route path=\"/create\" component={CreateLink}/>\n              <Route path=\"/login\" component={Login}/>\n              <Route path=\"/forgot\" component={ForgotPassword}/>\n              <Route path=\"/search\" component={SearchLinks}/>\n              <Route path=\"/top\" component={LinkList}/>\n              <Route path=\"/new/:page\" component={LinkList}/>\n              <Route path=\"/link/:linkId\" component={LinkDetail}/>\n            </Switch>\n          </div>\n        </div>\n      </FirebaseContext.Provider>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.css\";\nimport App from \"./components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}